<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui">


	<!-- START OF DIALOG -->
	<p:dialog widgetVar="pdfviewDownloadDialog" header="Download PDF"
		modal="true" appendToBody="true" fixedCenter="true" effect="FADE"
		close="true">
			<script type="text/javascript">
		/* 	function toggle(id) {
				/* console.log("id: " + id); 
				var element = document.getElementById(id);
				/* console.log("element: " + element); 
				if (element.style.display == 'block') {
					element.style.display = 'none';
				} else {
					element.style.display = 'block'
				}
			} */
			function autoStatusCheck(id) {
				/* toggle(id); */
				//e.stopPropagation()
				var element = document.getElementById(id);
				element.className="show";
				var interval = setInterval(function() {
					var checkStatus = document
							.getElementById('pdfDownload:checkStatusid');
					console.log("its called yahuooo");
					counter = 1;
					//newQuotePageNextLink.trigger('click');

					checkStatus.click();
					flag = true;

				}, 3000);
				//return false;

			}
		</script>
		<h:form id="pdfDownload">
			<p:commandLink id="checkStatusid" action="#{pdfviewhtmlExp.checkStatus}"
				style="display:none;" />
			<table style="height: 60px;">
				<tr>
					<td><p:graphicImage
							value="./images/LoadingGraphicAnimation.gif" id="animateLoading"
							style="width:50px;height:50px;text-align:right;"
							styleClass="#{pdfviewhtmlExp.loadingClass}"
							 /></td>
							 <!-- rendered="#{pdfhtmlExp.loading}" -->
					<td><p:commandButton ajax="false" value="Download"
							onclick="autoStatusCheck('pdfDownload:animateLoading');"
							action="#{quotations.view}" styleClass="dialogButton">

						</p:commandButton></td>
					<td>
						<!-- <h:outputText value=" " /> --> <p:commandButton value="Close"
							ajax="false" action="QuotationsPage?faces-redirect=true"
							styleClass="dialogButton" />
					</td>
				</tr>
			</table>
			<!-- <h:outputText value=" " /> -->
			<!-- </p:toolbarGroup> -->

		</h:form>
		
	</p:dialog>
	<!-- END OF DIALOG -->
</ui:composition>